# 1.8 Функции

## Функции

Функции в javascript это специальный тип объектов, с помощью которых можно задавать определенную логику для обработки данных.

Любая **функция это объект,** и следовательно ею можно манипулировать как объектом, в частности:

* передавать как аргумент и возвращать в качестве результата при вызове других функций
* создавать анонимно и присваивать в качестве значений переменных или свойств объектов.

### Объявление функций

#### function decloration

Объявление функции \(_function definition_, или _function declaration_, или _function statement_\) состоит из ключевого слова `function`, имя функции, параметров указываемых в `( )` и тела функции которое будет выполнено  после вызова.

Создадим функцию `add`

```javascript
function add(number) {
  return add + 1;
}
```

Функция add принимает один параметр number, добавляет к нему 1 и возвращает полученный результат.

Примитивные параметры переданные функции значением, не изменяются, но если передать объект и функция изменит его значения, то эти изменения отобразятся глобально.

```javascript
var x = 5;
var obj = {name: 'John'}
function sum(n) {
  n + 1
}
function changeObj(obj) {
  obj.name = 'Carl'
}
console.log(x) // 5
console.log(obj.name) // John
sum(x)
changeObj(obj)
console.log(x) // 5
console.log(obj.name) // Carl
```

#### function expression

Существует другой способ объявления функция который называется "функциональное выражение".

```javascript
var x = 5;
var sum = function(n) {
  n + 1
}

sum(5) // 6
```

Такая функция может быть анонимной, но можно и присвоить имя для рекурсии 

```javascript
var factorial = function fac(n) { return n < 2 ? 1 : n * fac(n - 1); };

console.log(factorial(3));
```

Function expression удобны для передачи аргументом.  Следующий пример показывает функцию `map`, которая должна получить функцию первым аргументом и массив вторым.

```javascript
function map(f, a) {
  var result = [], // Создание нового массива
  var i; // Создание переменной 
  for (i = 0; i != a.length; i++) 
    result[i] = f(a[i]); // применяет фунецию f для каждого элемента массива
  return result;
}

var f = function(x) { . // function expression
   return x * x * x; 
}
var numbers = [0, 1, 2, 5, 10];
var cube = map(f, numbers); // передаем аргументы 
```

В JavaScript функция может быть объявлена с условием. Например, следующая функция будет присвоена переменной `myFunc` только, если `data` равно `true`: 

```javascript
var myFunc;
var data = true;

if (data) {
  myFunc = function() {
    console.log("done")
  }
}
```

#### Конструктор Function

Для создания функции в рантайме можно использовать конструктор `Function`.

Конструктор `Function` создаёт новый объект `Function`. В JavaScript каждая функция является объектом `Function`.

```text
new Function([arg1[, arg2[, ...argN]],] functionBody)
```

Аргументы и тело функции должны быть строками.

```javascript
var adder = new Function('a', 'b', 'return a + b');

adder(2, 6) // 8
```

### Вызовы функций





